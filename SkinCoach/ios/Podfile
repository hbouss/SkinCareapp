platform :ios, '13.0'
install! 'cocoapods', deterministic_uuids: false

require_relative '../node_modules/react-native/scripts/react_native_pods'

target 'SkinCoach' do
  # 1) Core Expo modules runtime
  pod 'ExpoModulesCore', path: '../node_modules/expo-modules-core'

  # 2) Vos packages Expo que vous utilisez, par exemple :
  pod 'EXCamera', path: '../node_modules/expo-camera/ios'
  pod 'EXImagePicker', path: '../node_modules/expo-image-picker/ios'
  pod 'EXInAppPurchases', path: '../node_modules/expo-in-app-purchases/ios'

  # 3) React Native lui-mÃªme
  use_react_native!(path: '../node_modules/react-native')

  # 4) Post-install standard RN
  post_install do |installer|
    react_native_post_install(installer)
    installer.pod_targets.each do |pod|
      pod.build_configurations.each do |config|
        config.build_settings['CODE_SIGNING_ALLOWED'] = 'NO'
      end
    end
  end
end